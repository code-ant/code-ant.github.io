---
title: Linux使用笔记
date: 2020-04-25 22:35:50
categories: 笔记
tags: [Linux,笔记,操作系统]
---

> 记录在Linux的使用过程中遇到的问题，以及应对办法
>
> 每一次遇到问题，先写下对应的解决方法，顺手写清楚为什么要这么解决，先给自己挖坑，如果有时间了，就回来填坑，从原理出发解释为什么这么解决

<!--more-->

## 命令行程序在后台运行

- 用法：`nohup command &` 或者`nohup command > define.out 2>&1`  *(`command`指的是待执行命令)*

- 注解：

  - nohup：即no hang up，不挂起的意思。此命令指的是当前用户退出以后相应的进程继续执行。使`nohup`时如果程序有输出，默认情况下会输出到`nohup.out`文件中，如果需要指定输出文件，使用`nohup command > define.out 2>&1`.

    1. `command > file.out`

       将输出内容放置入`file.out`文件，而不在屏幕上显示。

    2. `2>&1`

       将标准出错输出到标准输出，前面已经将标准输出重定向到了`define.out`文件，所以标准出错也会输出到`define.out`文件。

       `2`与`&`结合表示错误重定向，`1`表示错误重定向到文件1，换成`2>&1`，`&`与`1`表示标准输出，所以`2>&1`表示将错误重定向到标准输出.

  - &：使作业在后台运行。使用`&`的时候在后台运行的作业如果有输出值，将会输出到屏幕上.

  - `nohup command &`与`command &`区别

    `command &`在后台运行，关掉终端会终止运行.

    `nohup command &`后台运行，关掉终端不会有影响；

    **使用nohup时，子进程收到父进程发来的hangup信号以后会忽略掉这个信号，达到不退出的目的；也可以通过`setsid`将父进程设置为`init进程`达到不退出的目的.**

- 结束后台程序

  使用`jobs -l`查看后台运行的命令，得到进程号之后，使用`kill pid`杀死该进程.

